<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<title>
  
    「更新：添加 Waline 评论 &amp; 访客统计」 - 無色人間。
  
</title>


  <link rel="alternative" href="/atom.xml" title="無色人間。" type="application/atom+xml">



  <link rel="icon" href="/favicon.png">



<link rel="stylesheet" href="/perfect-scrollbar/css/perfect-scrollbar.min.css">


<link rel="stylesheet" href="/styles/main.css">

  <meta name="description" content="曾经是「观月盐」。Chronicle observer system [Achrom-4o] from HEKATECH."/> 
<meta name="generator" content="Hexo 5.4.0"></head>
<body
  
    class="monochrome"
  
  >
  <div class="mobile-header">
  <button class="sidebar-toggle" type="button">
    <img src="/favicon.png">
  </button>
  <a class="title" href="/">無色人間。</a>
</div>

  <div class="main-container">
    <div class="sidebar">
  <div class="header">
    <h1 class="title"><a href="/">無色人間。</a></h1>
    
  </div>
  <div class="body">
    
      
        <ul class="nav" id="linklist">
          
            
              <li>
                <a href="/" title="主页" external="false">主页</a>
              </li>
            
          
            
              <li>
                <a href="/about" title="关于" external="false">关于</a>
              </li>
            
          
            
              <li>
                <a href="/categories" title="分类" external="false">分类</a>
              </li>
            
          
            
              <li>
                <a href="/ark" title="｢匣｣" external="false">｢匣｣</a>
              </li>
            
          
            
              <li class="archive-list-container">
                <a href="javascript:;">归档</a>
                <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/">2024</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/">2023</a><span class="archive-list-count">26</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/">2022</a><span class="archive-list-count">35</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021</a><span class="archive-list-count">43</span></li></ul>
              </li>
            
          
        </ul>
      
        <ul class="nav" id="linklist">
          
            
              <li>
                <a href="/atom.xml" title="RSS" external="false">RSS</a>
              </li>
            
          
            
              <li>
                <a href="javascript:;" title="搜索" external="false">搜索</a>
              </li>
            
          
        </ul>
      
    
  </div>
  <div class="footer">
    <div class="info">
      
        <div class="avatar">
          
            <a href="/about"><img src="/icon.png"></a>
          
        </div>
      <div class="content">
        
          <div class="description">For the glory of mankind.</div>
        
        
          <div class="author">4o</div>
        
      </div>
      
    </div>
  </div>
</div>

    <div class="main-content">
          <div class="post-body">

<article id="post-210929-waline" class="article article-type-post">
  
    <div class="article-header">
      <div class="article-title">
      <h2>
      更新：添加 Waline 评论 & 访客统计
    </h2>
    <span class="article-date">
  2021/09/29
</span>

    

  <span class="word-count">字数统计：
    <span class="word-count-symbol">1.8k</span>
  </span>
  <span class="word-count">阅读时间：
    <span class="word-count-time">3 mins</span>
  </span>
  
    <span class="word-count">访问次数：
      <span id="/2021/210929-waline/" class="waline-visitor-count">...</span>
    </span>
    <span class="word-count">评论统计：
      <span id="/2021/210929-waline/" class="waline-comment-count">...</span>
    </span>
  


  </div>
    <div class="article-info">
    
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E7%BB%B4%E6%8A%A4%E6%97%A5%E5%BF%97/">维护日志</a></li></ul>


    
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HKT-924/" rel="tag">HKT-924</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/" rel="tag">前端笔记</a></li></ul>


  </div>
</div>
  
  <div class="article-entry">
    <p>　　开评论了（开评论了）:4o-3:<br>　　虽然倒腾成功了但完全没有一点成就感，可能是因为明天要进禁绝幻想我又开始狠狠地 emo 了……</p>
<span id="more"></span>

<p>　　略有耳闻 Valine 的安全性不尽人意，于是启用了据说是基于 Valine 开发的 <strong>轻量易用</strong> 的评论插件 Waline，然后到手准备改一下元素嵌套顺序，找了个在线 JS 格式化网站把源码扔进去一看—— 4972 行。<br>　　请问是我对 21 世纪的简体中文形容词有什么误解吗 :4o-4:</p>
<h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><p>　　基本跟着 <a target="_blank" rel="noopener" href="https://waline.js.org/guide/get-started.html">官方文档</a> 一步步做下来就成功了，吐槽一下 LeanCloud 和 Vercel 居然都要验证手机号，今日份的人类不行.jpg</p>
<h4 id="更改-Vercel-权限"><a href="#更改-Vercel-权限" class="headerlink" title="更改 Vercel 权限"></a>更改 Vercel 权限</h4><p>　　使用 Vercel 创建仓库需要给它访问所有仓库的权限，但后续使用中只需要让它访问已创建的 Waline 仓库即可，所以本着多一事不如少一事的原则（好像也不太对），总之在部署完毕之后我修改了相应的权限。<br>　　在 Github 页面点击右上角头像选择 <em>Settings</em>，在页面左侧边栏选择 <em>Security log</em>，可以在列表中发现 Vercel 创建仓库的记录。<br>　　点击 <em>Vercel</em> 可以进入应用权限管理界面，拉到最下面的 <em>Repository access</em>，将设置从 <code>All repositories</code> 变更为 <code>Only select repositories</code> 并在下拉菜单中选中你的 Waline 仓库。</p>
<h4 id="引入无样式代码"><a href="#引入无样式代码" class="headerlink" title="引入无样式代码"></a>引入无样式代码</h4><p>　　因为想自己写 css 所以一开始就看中了 Waline 自带的无样式版本，不如说这个无样式版本才是我选择它的根本原因……<br>　　当然目前的 css 效果还比较感人，只是暂时能用的范畴。另外不知道为啥这次是 chrome 里的滚动条给我整不会了，不仅无法修改样式甚至还能拖动调整输入框的大小，啊？？？:4o-4:<br>　　开始用了 <a target="_blank" rel="noopener" href="//cdn.jsdelivr.net/npm/@waline/client@1.0.0/dist/Waline.noStyle.js">官方链接</a> 引入无事发生，检查了一下控制台发现是默认没有开启 https……干脆直接保存到本地了，另外去掉链接中的 <code>@1.0.0</code> 就可以获得最新版本的代码。</p>
<h4 id="启用访客-amp-评论统计"><a href="#启用访客-amp-评论统计" class="headerlink" title="启用访客 &amp; 评论统计"></a>启用访客 &amp; 评论统计</h4><p>　　以 ejs 为例，在 layout 中写入以下内容，如果没有特殊需要建议直接和字数统计放在一起，也共用 css 样式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;word-count&quot;</span>&gt;</span>访问次数：</span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;&lt;%- url_for(post.path) %&gt;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;waline-visitor-count&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;word-count&quot;</span>&gt;</span>评论统计：</span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;&lt;%- url_for(post.path) %&gt;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;waline-comment-count&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>　　原理是 <a target="_blank" rel="noopener" href="https://waline.js.org/guide/client/count.html">官方文档</a> 中提到 Waline 会自动查找页面中 class 值为 <code>waline-visitor-count</code> 的元素，获取其 id 为查询条件，并将得到的值填充到其中。所以只需要创建带有所需 id 和 class 的元素即可。<br>　　是说这个统计似乎是与本地共用的……可恶我一边码字一边疯狂刷新本地浏览页面的坏习惯就此暴露了 :4o-3:</p>
<blockquote>
<p>更新：部署文章前进入 LeanCloud 后台<br>　　　手动将 Counter 数据设置为 1 可以解决这个问题【掩耳盗铃</p>
</blockquote>
<h3 id="修正"><a href="#修正" class="headerlink" title="修正"></a>修正</h3><h4 id="删除默认-emoji"><a href="#删除默认-emoji" class="headerlink" title="删除默认 emoji"></a>删除默认 emoji</h4><p>　　在 <a href="/scripts/waline-set.js">waline 配置代码</a> 中为 <em>emoji</em> 配置一个空数组，写法：<code>emoji: []</code></p>
<h4 id="禁用图片上传功能"><a href="#禁用图片上传功能" class="headerlink" title="禁用图片上传功能"></a>禁用图片上传功能</h4><p>　　在 Waline 配置代码中写入 <code>uploadImage: false</code>，并在 css 样式中为 <code>.vactions</code> 设置 <code>display:none;</code><br>　　……是说把这个功能禁用掉之后居然不会自动删除对应的 UI 也是见了鬼了【</p>
<h4 id="设置必填项"><a href="#设置必填项" class="headerlink" title="设置必填项"></a>设置必填项</h4><p>　　在 Waline 配置代码中写入 <code>requiredMeta: [&#39;nick&#39;, &#39;mail&#39;]</code> 后，用户需要填写昵称和邮箱之后才能提交评论。</p>
<h4 id="在特定页面关闭评论"><a href="#在特定页面关闭评论" class="headerlink" title="在特定页面关闭评论"></a>在特定页面关闭评论</h4><p>　　在 layout 文件中加入判断条件，以 ejs 为例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (post.comment != <span class="literal">false</span>)&#123; %&gt;</span><br><span class="line"><span class="comment">// 如果 post 的 comment 值不等于 false，则渲染以下元素</span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;comment-block&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span></span><br><span class="line"><span class="xml">    // 这是个分割线</span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;waline&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">  // 生成 Waline 需要的 div</span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">&lt;% &#125; %&gt;</span></span><br></pre></td></tr></table></figure>

<p>　　完成后即可在 markdown 文件前缀中添加 <code>comment: false</code> 来关闭评论。<br>　　另外评论和访客统计同样需要加入判断条件，否则两个数据会恒定统计为 0。</p>
<h4 id="隐藏用户-UA"><a href="#隐藏用户-UA" class="headerlink" title="隐藏用户 UA"></a>隐藏用户 UA</h4><p>　　一早就想吐槽一个评论留言板为什么要显示来评论的人用的什么系统和浏览器……结果这玩意居然还没做关闭入口，试图用 jQuery remove 掉不知道为啥也没反应，估计还是异步加载的问题，总之先用 <code>display:none;</code> 隐藏一下。</p>
<p>　　更新：逐行阅读了官方文档后……【为什么这一条搜索不出来啊<br>　　在 Vercel 服务端中添加环境变量 <code>DISABLE_USERAGENT</code> 并将值设为 <code>true</code>后重新部署，检查前端会发现显示用户 UA 的 <code>.vmeta</code> 标签中返回了空的字符串。<br>　　但是我依然没办法隐藏这个元素 :4o-2:</p>
<h4 id="将输入框标签更改为-placeholder"><a href="#将输入框标签更改为-placeholder" class="headerlink" title="将输入框标签更改为 placeholder"></a>将输入框标签更改为 placeholder</h4><p>　　在 Waline 配置代码中写入以下内容：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  $(<span class="string">&quot;#waline-nick&quot;</span> ).attr( <span class="string">&quot;placeholder&quot;</span> , <span class="string">&quot;昵称&quot;</span> );</span><br><span class="line">  $(<span class="string">&quot;#waline-mail&quot;</span> ).attr( <span class="string">&quot;placeholder&quot;</span> , <span class="string">&quot;邮箱&quot;</span> );</span><br><span class="line">  $(<span class="string">&quot;#waline-link&quot;</span> ).attr( <span class="string">&quot;placeholder&quot;</span> , <span class="string">&quot;链接&quot;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　并在 css 中设置 <code>.vheader-item label</code> 样式为 <code>opacity: 0</code>。</p>
<h4 id="未完成：显示站点自带-emoji"><a href="#未完成：显示站点自带-emoji" class="headerlink" title="未完成：显示站点自带 emoji"></a>未完成：显示站点自带 emoji</h4><p>　　显然还是异步加载的问题，先挖个坑以后解决【<br>　　……当然如果这个问题需要我读完这 4972 行代码那就算了……</p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li><a target="_blank" rel="noopener" href="https://waline.js.org/">Waline 官方文档</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/59471707">input 自适应宽度</a></li>
</ul>

  </div>
  <div class="clear" style="clear:both;"></div>
  <footer class="article-footer">
  </footer>
</article>


  <div class="comment-block">
    <hr>
  <div id="waline"></div>
  </div>


<div class="main-footer">
  <span>© 2024 無色人間。-<a rel="me noopener" target="_blank" href="https://bgme.me/@4o">「e686a7e3828c」</a></span>
  <span>转载本站图文请附上<a href="">「原始链接」</a></span>
  <span class="description">已收录数据
    <em class="word-count-symbol">&nbsp;207k&nbsp;</em>
    字，登记访客&nbsp;
    <em id="/" class="waline-visitor-count">...</em>
    &nbsp;人。
  </span>
</div>
</div>



  <div class="article-toc">
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2"><span class="toc-number">1.</span> <span class="toc-text">部署</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9-Vercel-%E6%9D%83%E9%99%90"><span class="toc-number">1.1.</span> <span class="toc-text">更改 Vercel 权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E6%97%A0%E6%A0%B7%E5%BC%8F%E4%BB%A3%E7%A0%81"><span class="toc-number">1.2.</span> <span class="toc-text">引入无样式代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AF%E7%94%A8%E8%AE%BF%E5%AE%A2-amp-%E8%AF%84%E8%AE%BA%E7%BB%9F%E8%AE%A1"><span class="toc-number">1.3.</span> <span class="toc-text">启用访客 &amp; 评论统计</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%AD%A3"><span class="toc-number">2.</span> <span class="toc-text">修正</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E9%BB%98%E8%AE%A4-emoji"><span class="toc-number">2.1.</span> <span class="toc-text">删除默认 emoji</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A6%81%E7%94%A8%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E5%8A%9F%E8%83%BD"><span class="toc-number">2.2.</span> <span class="toc-text">禁用图片上传功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%BF%85%E5%A1%AB%E9%A1%B9"><span class="toc-number">2.3.</span> <span class="toc-text">设置必填项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E7%89%B9%E5%AE%9A%E9%A1%B5%E9%9D%A2%E5%85%B3%E9%97%AD%E8%AF%84%E8%AE%BA"><span class="toc-number">2.4.</span> <span class="toc-text">在特定页面关闭评论</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%90%E8%97%8F%E7%94%A8%E6%88%B7-UA"><span class="toc-number">2.5.</span> <span class="toc-text">隐藏用户 UA</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%86%E8%BE%93%E5%85%A5%E6%A1%86%E6%A0%87%E7%AD%BE%E6%9B%B4%E6%94%B9%E4%B8%BA-placeholder"><span class="toc-number">2.6.</span> <span class="toc-text">将输入框标签更改为 placeholder</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%9A%E6%98%BE%E7%A4%BA%E7%AB%99%E7%82%B9%E8%87%AA%E5%B8%A6-emoji"><span class="toc-number">2.7.</span> <span class="toc-text">未完成：显示站点自带 emoji</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">3.</span> <span class="toc-text">参考资料</span></a></li></ol>
  </div>



          
  
  </div>
  <div class="hekation">

<svg class="HKT-block" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg">
  <circle class="HKT-item" id="HKT-1" cx="128" cy="128" r="120"/>
  <circle class="HKT-item" id="HKT-2" cx="128" cy="128" r="127"/>
  <circle class="HKT-item" id="HKT-3" cx="128" cy="128" r="96"/>
  <circle class="HKT-item" id="HKT-4" cx="128" cy="128" r="72"/>
  <circle class="HKT-item" id="HKT-5" cx="128" cy="128" r="94"/>
  <circle class="HKT-item" id="HKT-6" cx="128" cy="128" r="80"/>
  <circle class="HKT-item" id="HKT-7" cx="128" cy="128" r="47"/>
  <circle class="HKT-item" id="HKT-8" cx="128" cy="128" r="32"/>
  <circle class="HKT-item" id="HKT-9" cx="128" cy="128" r="28"/>
  <circle class="HKT-item" id="HKT-10" cx="128" cy="128" r="24"/>
</svg>

</div>

  

    <div class="search-block">
      <div id="site_search">
        <div class="form-group">
          <input type="text" id="local-search-input" name="q" results="0" placeholder="search" class="st-search-input st-default-search-input form-control"/>
        </div>
      </div>
      <div id="local-search-result"></div>
    </div>



</body>
<footer>
  
<script src="/scripts/jquery-2.1.3.min.js"></script>


  
<link rel="stylesheet" href="/PhotoSwipe/photoswipe.css">

  
<link rel="stylesheet" href="/PhotoSwipe/default-skin/default-skin.css">


  <!-- Root element of PhotoSwipe. Must have class pswp. -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
             It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

      <!-- Container that holds slides.
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>

      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
      <div class="pswp__ui pswp__ui--hidden">

        <div class="pswp__top-bar">

          <!--  Controls are self-explanatory. Order can be changed. -->

          <div class="pswp__counter"></div>

          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

          <button class="pswp__button pswp__button--share" title="Share"></button>

          <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

          <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

          <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
          <!-- element will get class pswp__preloader--active when preloader is running -->
          <div class="pswp__preloader">
            <div class="pswp__preloader__icn">
              <div class="pswp__preloader__cut">
                <div class="pswp__preloader__donut"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
          <div class="pswp__share-tooltip"></div>
        </div>

        <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>

        <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

        <div class="pswp__caption">
          <div class="pswp__caption__center"></div>
        </div>
      </div>
    </div>
  </div>

  
<script src="/PhotoSwipe/photoswipe.js"></script>

  
<script src="/PhotoSwipe/photoswipe-ui-default.js"></script>




<script src="/perfect-scrollbar/js/min/perfect-scrollbar.min.js"></script>


<script src="/scripts/main.js"></script>


<script src="/scripts/score.js"></script>


<script src="/scripts/waline.js"></script>


<script src="/scripts/search.js"></script>


  

  
    
      <script type="text/javascript">
      Waline({
        el: '#waline',
        serverURL: 'https://waline-4o-cx.vercel.app/',
        emoji: [],
        uploadImage: false,
        visitor: true,
        requiredMeta: ['nick', 'mail'],
        placeholder:"欢迎留言 ~ 登录非必选项，填上昵称和邮箱即可提交评论并显示 Libravatar / Gravatar",
      });
      window.onload = function(){
        $("#waline-nick" ).attr( "placeholder" , "昵称" );
        $("#waline-mail" ).attr( "placeholder" , "邮箱" );
        $("#waline-link" ).attr( "placeholder" , "链接" );
      }
      </script>
    
  


  
  <script type="text/javascript">      
    var path = "/search.xml";
    searchFunc(path, 'local-search-input', 'local-search-result');
  </script>

  
<script src="/hekation/emoji.js"></script>


<link rel="stylesheet" href="/hekation/emoji.css">


<script src="/scripts/HKT-63.js"></script>

</footer>
</html>
